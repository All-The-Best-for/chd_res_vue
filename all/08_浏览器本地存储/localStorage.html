<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>本地存储</title>
    </head>
    <body>
        <h3>
            localStorage，存储在硬盘上，不会自动消失
        </h3>
        <button onclick="saveData()">点我保存一个数据</button><hr/>
        <button onclick="readData()">点我读取一个数据</button><hr/>
        <button onclick="deleteData()">点我删除一个数据</button><hr/>
        <button onclick="deleteAllData()">点我清空数据</button><hr/>
    </body>

    <script type="text/javascript">
        let p={name:'zhan',age:19}

        function saveData() {
            // 存储的一定是字符串形式，不是字符串的数据会被toString后存入
            localStorage.setItem('msg','hello')
            localStorage.setItem('msg2',999)
            localStorage.setItem('person',p)
            //将对象转换成JSON数据格式存储
            localStorage.setItem('person2',JSON.stringify(p))
        }

        function readData() {
            console.log(localStorage.getItem('msg2'))
            console.log(localStorage.getItem('person'))
            console.log(localStorage.getItem('person2'))

            //使用JSON方法将JSON格式存入的对象解析成对象再输出
            const result=localStorage.getItem('person2')
            console.log(JSON.parse(result))
        }

        function deleteData() {
            localStorage.removeItem('msg')
        }

        function deleteAllData() {
            localStorage.clear()
        }
    </script>
</html>